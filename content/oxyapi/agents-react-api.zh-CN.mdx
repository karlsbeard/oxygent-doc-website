---
title: ReActAgent API 参考
description: 完整 API 参考文档： ReActAgent 构造函数参数和方法
icon: Code
---

## 构造函数参数

### 核心参数

|参数|类型|默认值|描述|
|-----------|------|---------|-------------|
| `name` | str | 必需 | 代理的唯一标识符 |
| `is_master` | bool | False | 此代理是否为入口代理 |
| `llm_model` | str | 必需 | 要使用的大语言模型组件名称 |
| `tools` | list[str] | [] | 工具名称列表 |
| `sub_agents` | list[str] | [] | 子代理名称列表 |

### 执行参数

|参数|类型|默认值|描述|
|-----------|------|---------|-------------|
| `max_react_rounds` | int | 16 | 最大推理-行动迭代次数 |

### 内存参数

|参数|类型|默认值|描述|
|-----------|------|---------|-------------|
| `is_discard_react_memory` | bool | True | 丢弃详细的 ReAct 内存 |
| `short_memory_size` | int | 10 | 保留的历史对话数量 |
| `memory_max_tokens` | int | 8000 | 内存存储的最大令牌数 |
| `weight_short_memory` | int | 5 | 短期内存在评分中的权重 |
| `weight_react_memory` | int | 1 | ReAct 内存在评分中的权重 |

## 参数详情

### `name`
- **类型**：`str`
- **必需**：是
- **描述**：代理在多智能体系统（MAS）中的唯一标识符。通过 `mas.call(callee="agent_name")` 调用代理时使用此名称。

### `is_master`
- **类型**：`bool`
- **默认**：`False`
- **描述**：指示此代理是否为多智能体系统的入口点。MAS 中只应有一个代理标记为主代理。

### `llm_model`
- **类型**：`str`
- **必需**：是
- **描述**：在同一 MAS 中注册的大语言模型组件的名称引用。此 LLM 将用于 ReAct 循环中的所有推理步骤。

### `tools`
- **类型**：`list[str]`
- **默认**：`[]`
- **描述**：代理可以调用的工具名称列表。工具必须在同一 MAS 实例中注册。

### `sub_agents`
- **类型**：`list[str]`
- **默认**：`[]`
- **描述**：此代理可以委托任务的子代理名称列表。子代理必须在同一 MAS 实例中注册。

### `max_react_rounds`
- **类型**：`int`
- **默认**：`16`
- **描述**：代理使用后备机制之前的最大推理-行动迭代次数。每一轮包括一个推理步骤和一个或多个工具执行。

**使用指南**：
- 简单任务：3-5 轮
- 多步骤任务：10-20 轮
- 复杂推理链：20-30 轮

### `is_discard_react_memory`
- **类型**：`bool`
- **默认**：`True`
- **描述**：控制内存保留策略：
  - `True`：仅保留最终问答对（更清晰的历史）
  - `False`：使用加权评分保留完整的 ReAct 推理轨迹

### `short_memory_size`
- **类型**：`int`
- **默认**：`10`
- **描述**：保留在短期内存中的最近对话轮次数量。

### `memory_max_tokens`
- **类型**：`int`
- **默认**：`8000`
- **描述**：内存系统的最大令牌限制。超出时，较旧的内存将基于加权评分被修剪。

### `weight_short_memory`
- **类型**：`int`
- **默认**：`5`
- **描述**：当 `is_discard_react_memory=False` 时短期内存的相对重要性权重。较高的值会更重视最近的对话。

### `weight_react_memory`
- **类型**：`int`
- **默认**：`1`
- **描述**：当 `is_discard_react_memory=False` 时 ReAct 中间步骤的相对重要性权重。

## 方法

### `call()`

使用给定输入执行代理。

**参数**：
- `messages`（list）：包含 `role` 和 `content` 字段的消息字典列表
- 可以传递额外的大语言模型参数

**返回**：AgentResult 对象，包含：
- `output`：最终代理响应
- `messages`：完整对话历史
- `metadata`：执行元数据（使用的轮数、工具调用等）

**示例**：
```python
result = await mas.call(
    callee="agent_name",
    arguments={
        "messages": [
            {"role": "user", "content": "Your query here"}
        ]
    }
)
```

## 相关文档

- [ReActAgent 概述](/docs/agents-react) - 使用指南和示例
- [ChatAgent API](/oxyapi/agents-chat-api) - API 参考文档
- [FunctionHub API](/oxyapi/tools-function-hub-api) - 工具中心 API 文档
